"use strict";(self.webpackChunkSFWE_504_Team_08_Frontend=self.webpackChunkSFWE_504_Team_08_Frontend||[]).push([[411],{2411:(M,p,m)=>{m.r(p),m.d(p,{AuthModule:()=>N});var u=m(2881),n=m(4341),f=m(5207),e=m(1360),h=m(8010),v=m(5854);const b=r=>({"is-invalid":r});function R(r,d){1&r&&(e.j41(0,"div",16),e.EFF(1," Valid email is required. "),e.k0s())}function _(r,d){if(1&r&&(e.j41(0,"div",17),e.EFF(1),e.k0s()),2&r){const s=e.XpG();e.R7$(),e.JRh(s.errorMessage)}}function E(r,d){1&r&&e.nrm(0,"span",18)}let F=(()=>{class r{fb;authService;router;form;loading=!1;errorMessage=null;constructor(s,i,t){this.fb=s,this.authService=i,this.router=t,this.authService.isLoggedIn()&&this.router.navigate(["/scholarships"]),this.form=this.fb.group({email:["",[n.k0.required,n.k0.email]],password:["",n.k0.required]})}ngOnInit(){}login(){this.form.invalid?this.form.markAllAsTouched():(this.loading=!0,this.errorMessage=null,this.authService.login(this.form.value).subscribe({next:()=>{this.router.navigate(["/scholarships"])},error:s=>{this.loading=!1,this.errorMessage=s.error?.message||"Login failed. Check your credentials.",console.error("Login Error:",s)}}))}static \u0275fac=function(i){return new(i||r)(e.rXU(n.ok),e.rXU(h.u),e.rXU(v.Ix))};static \u0275cmp=e.VBU({type:r,selectors:[["app-login"]],decls:22,vars:12,consts:[[1,"d-flex","justify-content-center","align-items-center",2,"min-height","80vh"],[1,"card","p-4","shadow-lg",2,"max-width","380px","width","100%"],[1,"text-center","mb-4","text-primary"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","email",1,"form-label"],["type","email","id","email","formControlName","email",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"mb-4"],["for","password",1,"form-label"],["type","password","id","password","formControlName","password",1,"form-control",3,"ngClass"],["class","alert alert-danger text-center",4,"ngIf"],["type","submit",1,"btn","btn-primary","w-100",3,"disabled"],["class","spinner-border spinner-border-sm me-2","role","status","aria-hidden","true",4,"ngIf"],[1,"text-center","mt-3","small"],["routerLink","/auth/register"],[1,"invalid-feedback"],[1,"alert","alert-danger","text-center"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm","me-2"]],template:function(i,t){if(1&i&&(e.j41(0,"div",0)(1,"div",1)(2,"h2",2),e.EFF(3,"User Login"),e.k0s(),e.j41(4,"form",3),e.bIt("ngSubmit",function(){return t.login()}),e.j41(5,"div",4)(6,"label",5),e.EFF(7,"Email"),e.k0s(),e.nrm(8,"input",6),e.DNE(9,R,2,0,"div",7),e.k0s(),e.j41(10,"div",8)(11,"label",9),e.EFF(12,"Password"),e.k0s(),e.nrm(13,"input",10),e.k0s(),e.DNE(14,_,2,1,"div",11),e.j41(15,"button",12),e.DNE(16,E,1,0,"span",13),e.EFF(17),e.k0s()(),e.j41(18,"p",14),e.EFF(19," Don't have an account? "),e.j41(20,"a",15),e.EFF(21,"Register here"),e.k0s()()()()),2&i){let o,l,a;e.R7$(4),e.Y8G("formGroup",t.form),e.R7$(4),e.Y8G("ngClass",e.eq3(8,b,(null==(o=t.form.get("email"))?null:o.invalid)&&(null==(o=t.form.get("email"))?null:o.touched))),e.R7$(),e.Y8G("ngIf",(null==(l=t.form.get("email"))?null:l.invalid)&&(null==(l=t.form.get("email"))?null:l.touched)),e.R7$(4),e.Y8G("ngClass",e.eq3(10,b,(null==(a=t.form.get("password"))?null:a.invalid)&&(null==(a=t.form.get("password"))?null:a.touched))),e.R7$(),e.Y8G("ngIf",t.errorMessage),e.R7$(),e.Y8G("disabled",t.loading||t.form.invalid),e.R7$(),e.Y8G("ngIf",t.loading),e.R7$(),e.SpI(" ",t.loading?"Logging in...":"Login"," ")}},dependencies:[u.MD,u.YU,u.bT,n.X1,n.qT,n.me,n.BC,n.cb,n.j4,n.JD,f.iI,f.Wk],encapsulation:2})}return r})();const g=r=>({"is-invalid":r});function j(r,d){1&r&&(e.j41(0,"div",21),e.EFF(1," Valid email is required. "),e.k0s())}function G(r,d){1&r&&(e.j41(0,"div",21),e.EFF(1," Passwords must match. "),e.k0s())}function I(r,d){if(1&r&&(e.j41(0,"div",22),e.EFF(1),e.k0s()),2&r){const s=e.XpG();e.R7$(),e.JRh(s.errorMessage)}}function y(r,d){if(1&r&&(e.j41(0,"div",23),e.EFF(1),e.k0s()),2&r){const s=e.XpG();e.R7$(),e.JRh(s.message)}}function $(r,d){1&r&&e.nrm(0,"span",24)}let k=(()=>{class r{fb;authService;router;form;loading=!1;errorMessage=null;message=null;constructor(s,i,t){this.fb=s,this.authService=i,this.router=t,this.form=this.fb.group({fullName:["",n.k0.required],email:["",[n.k0.required,n.k0.email]],password:["",[n.k0.required,n.k0.minLength(6)]],confirmPassword:["",n.k0.required]},{validators:this.passwordMatchValidator})}ngOnInit(){}passwordMatchValidator(s){const i=s.get("password")?.value,t=s.get("confirmPassword")?.value;return i===t?null:{mismatch:!0}}register(){this.errorMessage=null,this.message=null,this.form.invalid?this.form.markAllAsTouched():(this.loading=!0,this.authService.register(this.form.value).subscribe({next:()=>{this.loading=!1,this.message="Registration successful! You can now log in.",this.form.reset(),setTimeout(()=>this.router.navigate(["/auth/login"]),2e3)},error:s=>{this.loading=!1,this.errorMessage=s.error?.message||"Registration failed. The email may already be in use.",console.error("Registration Error:",s)}}))}static \u0275fac=function(i){return new(i||r)(e.rXU(n.ok),e.rXU(h.u),e.rXU(v.Ix))};static \u0275cmp=e.VBU({type:r,selectors:[["app-register"]],decls:32,vars:20,consts:[[1,"d-flex","justify-content-center","align-items-center",2,"min-height","80vh"],[1,"card","p-4","shadow-lg",2,"max-width","420px","width","100%"],[1,"text-center","mb-4","text-primary"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","fullName",1,"form-label"],["type","text","id","fullName","formControlName","fullName",1,"form-control",3,"ngClass"],["for","email",1,"form-label"],["type","email","id","email","formControlName","email",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","password",1,"form-label"],["type","password","id","password","formControlName","password",1,"form-control",3,"ngClass"],[1,"mb-4"],["for","confirmPassword",1,"form-label"],["type","password","id","confirmPassword","formControlName","confirmPassword",1,"form-control",3,"ngClass"],["class","alert alert-danger text-center",4,"ngIf"],["class","alert alert-success text-center",4,"ngIf"],["type","submit",1,"btn","btn-primary","w-100",3,"disabled"],["class","spinner-border spinner-border-sm me-2","role","status","aria-hidden","true",4,"ngIf"],[1,"text-center","mt-3","small"],["routerLink","/auth/login"],[1,"invalid-feedback"],[1,"alert","alert-danger","text-center"],[1,"alert","alert-success","text-center"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm","me-2"]],template:function(i,t){if(1&i&&(e.j41(0,"div",0)(1,"div",1)(2,"h2",2),e.EFF(3,"Create Account"),e.k0s(),e.j41(4,"form",3),e.bIt("ngSubmit",function(){return t.register()}),e.j41(5,"div",4)(6,"label",5),e.EFF(7,"Full Name"),e.k0s(),e.nrm(8,"input",6),e.k0s(),e.j41(9,"div",4)(10,"label",7),e.EFF(11,"Email"),e.k0s(),e.nrm(12,"input",8),e.DNE(13,j,2,0,"div",9),e.k0s(),e.j41(14,"div",4)(15,"label",10),e.EFF(16,"Password"),e.k0s(),e.nrm(17,"input",11),e.k0s(),e.j41(18,"div",12)(19,"label",13),e.EFF(20,"Confirm Password"),e.k0s(),e.nrm(21,"input",14),e.DNE(22,G,2,0,"div",9),e.k0s(),e.DNE(23,I,2,1,"div",15)(24,y,2,1,"div",16),e.j41(25,"button",17),e.DNE(26,$,1,0,"span",18),e.EFF(27),e.k0s(),e.j41(28,"p",19),e.EFF(29," Already have an account? "),e.j41(30,"a",20),e.EFF(31,"Login"),e.k0s()()()()()),2&i){let o,l,a,c,C,w;e.R7$(4),e.Y8G("formGroup",t.form),e.R7$(4),e.Y8G("ngClass",e.eq3(12,g,(null==(o=t.form.get("fullName"))?null:o.invalid)&&(null==(o=t.form.get("fullName"))?null:o.touched))),e.R7$(4),e.Y8G("ngClass",e.eq3(14,g,(null==(l=t.form.get("email"))?null:l.invalid)&&(null==(l=t.form.get("email"))?null:l.touched))),e.R7$(),e.Y8G("ngIf",(null==(a=t.form.get("email"))?null:a.invalid)&&(null==(a=t.form.get("email"))?null:a.touched)),e.R7$(4),e.Y8G("ngClass",e.eq3(16,g,(null==(c=t.form.get("password"))?null:c.invalid)&&(null==(c=t.form.get("password"))?null:c.touched))),e.R7$(4),e.Y8G("ngClass",e.eq3(18,g,(null==t.form.errors?null:t.form.errors.mismatch)&&(null==(C=t.form.get("confirmPassword"))?null:C.touched))),e.R7$(),e.Y8G("ngIf",(null==t.form.errors?null:t.form.errors.mismatch)&&(null==(w=t.form.get("confirmPassword"))?null:w.touched)),e.R7$(),e.Y8G("ngIf",t.errorMessage),e.R7$(),e.Y8G("ngIf",t.message),e.R7$(),e.Y8G("disabled",t.loading||t.form.invalid),e.R7$(),e.Y8G("ngIf",t.loading),e.R7$(),e.SpI(" ",t.loading?"Processing...":"Register"," ")}},dependencies:[u.MD,u.YU,u.bT,n.X1,n.qT,n.me,n.BC,n.cb,n.j4,n.JD],encapsulation:2})}return r})();const T=[{path:"login",component:F},{path:"register",component:k},{path:"",redirectTo:"login",pathMatch:"full"}];let Y=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275mod=e.$C({type:r});static \u0275inj=e.G2t({imports:[f.iI.forChild(T),f.iI]})}return r})(),N=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275mod=e.$C({type:r});static \u0275inj=e.G2t({imports:[u.MD,n.X1,F,k,Y,f.iI]})}return r})()}}]);